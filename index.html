<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fragpool: Fragpool: Variable-sized packet memory management for embedded applications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fragpool
   &#160;<span id="projectnumber">20130729</span>
   </div>
   <div id="projectbrief">Variable-sized packet memory management for embedded applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Fragpool: Variable-sized packet memory management for embedded applications </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Fragpool is a memory management infrastructure designed to support stream-to-packet layer interfaces in memory constrained devices.</p>
<p>The use case is an embedded system which passes data between a stream-oriented interface such as a UART and a packet-oriented interface such as HDLC. The expectation is that the final length of a packet is not known at the point where stream reception starts. Consequently a system is obliged to allocate a large buffer. Once the packet is complete the data must be passed to another layer, and the unused space should be reclaimed and made available for new packets that are received while previous packets are being processed.</p>
<p>There are only a few functions, accessed by including &lt;<a class="el" href="fragpool_8h.html" title="Header providing interface for fragpool functions. ">fragpool/fragpool.h</a>&gt;:</p>
<ul>
<li><a class="el" href="fragpool_8h.html#abaa7500c51a8a2743a14fdf0855405a1">fp_request()</a> allocates a buffer given the minimum acceptable and maximum expected final sizes;</li>
</ul>
<ul>
<li><a class="el" href="fragpool_8h.html#aad6744155cd0e00fb586f91b79628f6c">fp_resize()</a> and <a class="el" href="fragpool_8h.html#a6d4d9d64c34ba2dd50c24cb90446bc3e">fp_reallocate()</a> decrease or increase the size of the reserved space, preserving initial content; they differ in that <a class="el" href="fragpool_8h.html#aad6744155cd0e00fb586f91b79628f6c">fp_resize()</a> is not permitted to move the buffer;</li>
</ul>
<ul>
<li><a class="el" href="fragpool_8h.html#a12f8115544a2533a7c664d60877a2efe">fp_release()</a> is ultimately invoked to return the buffer;</li>
</ul>
<ul>
<li><a class="el" href="fragpool_8h.html#a36b73aec926b84742e2dbb01bd4866bc">fp_reset()</a> clears the pool and <a class="el" href="fragpool_8h.html#ae3b9b2fe5781a2714ab320b90151e296">fp_validate()</a> checks it for consistency.</li>
</ul>
<p>The memory available for allocation and the degree of fragmentation supported are fixed for the life of the pool, normally at the time the application is compiled. Allocation will adjust caller-provided sizes to maintain pool-defined alignment constraints.</p>
<dl class="section note"><dt>Note</dt><dd>All fragpool routines are non-blocking and are intended to be callable from hard interrupt context. Protection against re-entrancy must be supplied by the caller.</dd></dl>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/fragpool">http://github.com/pabigot/fragpool</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012-2017, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
