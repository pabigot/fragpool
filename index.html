<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>fragpool: Fragpool: Variable-sized packet memory management for embedded applications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fragpool
   &#160;<span id="projectnumber">20121231</span>
   </div>
   <div id="projectbrief">Variable-sized packet memory management for embedded applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Fragpool: Variable-sized packet memory management for embedded applications </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Fragpool is a memory management infrastructure designed to support stream-to-packet layer interfaces in memory constrained devices.</p>
<p>The use case is an embedded system which passes data between a stream-oriented interface such as a UART and a packet-oriented interface such as HDLC. The expectation is that the final length of a packet is not known at the point where stream reception starts. Consequently a system is obliged to allocate a large buffer. Once the packet is complete, the data must be passed to another layer, and the space is not available for new packets that are received while previous packets are being processed.</p>
<p>There are only a few functions, accessed by including &lt;<a class="el" href="fragpool_8h.html" title="Header providing interface for fragpool functions.">fragpool/fragpool.h</a>&gt;:</p>
<ul>
<li><a class="el" href="fragpool_8h.html#abaa7500c51a8a2743a14fdf0855405a1">fp_request()</a> allocates a buffer given the minimum acceptable and maximum expected final sizes;</li>
</ul>
<ul>
<li><a class="el" href="fragpool_8h.html#aad6744155cd0e00fb586f91b79628f6c">fp_resize()</a> and <a class="el" href="fragpool_8h.html#a6d4d9d64c34ba2dd50c24cb90446bc3e">fp_reallocate()</a> decrease or increase the size of the reserved space, preserving initial content; they differ in that <a class="el" href="fragpool_8h.html#aad6744155cd0e00fb586f91b79628f6c">fp_resize()</a> is not permitted to move the buffer;</li>
</ul>
<ul>
<li><a class="el" href="fragpool_8h.html#a2867868f7aca05141d352aac0cf21810">fp_release()</a> is ultimately invoked to return the buffer;</li>
</ul>
<ul>
<li><a class="el" href="fragpool_8h.html#a36b73aec926b84742e2dbb01bd4866bc">fp_reset()</a> clears the pool and <a class="el" href="fragpool_8h.html#ae3b9b2fe5781a2714ab320b90151e296">fp_validate()</a> checks it for consistency.</li>
</ul>
<p>The memory available for allocation and the degree of fragmentation supported are fixed for the life of the pool, normally at the time the application is compiled. Allocation will adjust caller-provided sizes to maintain pool-defined alignment constraints.</p>
<dl class="section note"><dt>Note</dt><dd>All fragpool routines are non-blocking and are intended to be callable from hard interrupt context. Protection against re-entrancy must be supplied by the caller.</dd></dl>
<dl class="section user"><dt>Homepage</dt><dd><a href="http://github.com/pabigot/fragpool">http://github.com/pabigot/fragpool</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright 2012, Peter A. Bigot. Licensed under <a href="http://www.opensource.org/licenses/BSD-3-Clause">BSD-3-Clause</a> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 31 2012 12:38:52 for fragpool by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
